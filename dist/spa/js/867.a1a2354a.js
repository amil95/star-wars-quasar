"use strict";(self["webpackChunkstar_wars_quasar"]=self["webpackChunkstar_wars_quasar"]||[]).push([[867],{7468:(t,a,e)=>{e.d(a,{Z:()=>o});var n=e(52),r=e.n(n),s=function(t,a,e,n){function r(t){return t instanceof e?t:new e((function(a){a(t)}))}return new(e||(e=Promise))((function(e,s){function o(t){try{c(n.next(t))}catch(a){s(a)}}function i(t){try{c(n["throw"](t))}catch(a){s(a)}}function c(t){t.done?e(t.value):r(t.value).then(o,i)}c((n=n.apply(t,a||[])).next())}))};class o{static getCharactersByPage(t){return s(this,void 0,void 0,(function*(){let a={characters:[],total:0};return yield r().get(`https://swapi.dev/api/people/?page=${t}`).then((t=>(console.log(t),a={characters:t.data.results,total:t.data.count}))).catch((t=>console.error(t))),a}))}static getCharacterById(t){return s(this,void 0,void 0,(function*(){const a=yield r().get(`https://swapi.dev/api/people/${t}`);return a.data}))}static getStarships(t){return s(this,void 0,void 0,(function*(){const a=[];return t.starships&&t.starships.forEach((t=>s(this,void 0,void 0,(function*(){const e=yield r().get(t);a.push(e.data)})))),a}))}static getPicture(t){return s(this,void 0,void 0,(function*(){let a=404,e=0;while(200!=a){const n=yield r().get(`https://www.googleapis.com/customsearch/v1?key=AIzaSyDKEWPZHKt0FSXvND6RNPtajUnr171dwbA&cx=ccdc96df0b94a890e&searchType=image&imgSize=xlarge&alt=json&num=1&start=1&q=${t}`);if(a=n.status,200==n.status)return n.data.items[e].link;e++}return""}))}}},867:(t,a,e)=>{e.r(a),e.d(a,{default:()=>_});e(7280);var n=e(2494),r=e(5626);const s={class:"row"},o=(0,n._)("div",{class:"col"},null,-1),i={class:"q-pa-xs col-4"},c=["src"],l=(0,n._)("div",{class:"col"},null,-1);function u(t,a,e,u,d,p){const g=(0,n.up)("q-card-section"),h=(0,n.up)("q-separator"),f=(0,n.up)("q-card"),m=(0,n.up)("q-table");return(0,n.wg)(),(0,n.iD)("div",s,[o,(0,n.Wm)(m,{grid:"",loading:t.loading,rows:t.Characters,pagination:t.pagination,"onUpdate:pagination":a[0]||(a[0]=a=>t.pagination=a),onRequest:t.onRequest,"rows-per-page-options":[10],columns:t.columns},{item:(0,n.w5)((a=>[(0,n._)("div",i,[(0,n.Wm)(f,{onClick:e=>t.goCharacter(a.row.url.split("/")[5]),dark:""},{default:(0,n.w5)((()=>[(0,n.Wm)(g,{class:"text-center text-yellow"},{default:(0,n.w5)((()=>[(0,n._)("strong",null,(0,r.zw)(a.row.name),1)])),_:2},1024),(0,n.Wm)(h),(0,n.Wm)(g,{class:"flex flex-center"},{default:(0,n.w5)((()=>[(0,n._)("img",{src:a.row.image,height:"100"},null,8,c)])),_:2},1024)])),_:2},1032,["onClick"])])])),_:1},8,["loading","rows","pagination","onRequest","columns"]),l])}var d=e(9682),p=e(7468),g=e(7896);const h=(0,n.aZ)({name:"CharacterTable",setup(){let t=(0,d.iH)([]),a=(0,d.iH)({page:1,rowsPerPage:10,rowsNumber:0}),e=(0,d.iH)(!0);const n=[{name:"image",label:"Image",field:"image",align:"left"},{name:"name",label:"Name",field:"name",align:"left"}];function r(n){p.Z.getCharactersByPage(n).then((n=>{t.value=n.characters,a.value.rowsNumber=n.total,e.value=!1,o()}))}function s(t){(0,g.Z)().push({path:"/character/"+t})}function o(){}function i(t){const n=t.pagination.page;e.value=!0,a.value.page=n,r(n)}return r(1),{columns:n,Characters:t,pagination:a,onRequest:i,loading:e,goCharacter:s,getPictures:o}}});var f=e(3299),m=e(151),w=e(5589),v=e(5869),y=e(7518),C=e.n(y);h.render=u;const _=h;C()(h,"components",{QTable:f.Z,QCard:m.Z,QCardSection:w.Z,QSeparator:v.Z})}}]);