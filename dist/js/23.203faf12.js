"use strict";(self["webpackChunkstar_wars_quasar"]=self["webpackChunkstar_wars_quasar"]||[]).push([[23],{7468:(t,e,a)=>{a.d(e,{Z:()=>i});var n=a(52),r=a.n(n),o=function(t,e,a,n){function r(t){return t instanceof a?t:new a((function(e){e(t)}))}return new(a||(a=Promise))((function(a,o){function i(t){try{s(n.next(t))}catch(e){o(e)}}function c(t){try{s(n["throw"](t))}catch(e){o(e)}}function s(t){t.done?a(t.value):r(t.value).then(i,c)}s((n=n.apply(t,e||[])).next())}))};class i{static getCharactersByPage(t){return o(this,void 0,void 0,(function*(){let e={characters:[],total:0};return yield r().get(`https://swapi.dev/api/people/?page=${t}`).then((t=>(console.log(t),e={characters:t.data.results,total:t.data.count}))).catch((t=>console.error(t))),e}))}static getCharacterById(t){return o(this,void 0,void 0,(function*(){const e=yield r().get(`https://swapi.dev/api/people/${t}`);return e.data}))}static getStarships(t){return o(this,void 0,void 0,(function*(){const e=[];return t.starships&&t.starships.forEach((t=>o(this,void 0,void 0,(function*(){const a=yield r().get(t);e.push(a.data)})))),e}))}static getPicture(t){return o(this,void 0,void 0,(function*(){let e=404,a=0;while(200!=e){const n=yield r().get(`https://www.googleapis.com/customsearch/v1?key=AIzaSyDKEWPZHKt0FSXvND6RNPtajUnr171dwbA&cx=ccdc96df0b94a890e&searchType=image&imgSize=xlarge&alt=json&num=1&start=1&q=${t}`);if(e=n.status,200==n.status)return n.data.items[a].link;a++}return""}))}}},2023:(t,e,a)=>{a.r(e),a.d(e,{default:()=>y});a(7280);var n=a(2494),r=a(5626);const o={class:"q-pa-xs col-xs-12 col-sm-6 col-md-2"},i=["src"];function c(t,e,a,c,s,u){const l=(0,n.up)("q-card-section"),d=(0,n.up)("q-separator"),p=(0,n.up)("q-card"),g=(0,n.up)("q-table");return(0,n.wg)(),(0,n.j4)(g,{grid:"",loading:t.loading,rows:t.Characters,pagination:t.pagination,"onUpdate:pagination":e[0]||(e[0]=e=>t.pagination=e),onRequest:t.onRequest,"rows-per-page-options":[10],columns:t.columns},{item:(0,n.w5)((e=>[(0,n._)("div",o,[(0,n.Wm)(p,{onClick:a=>t.goCharacter(e.row.url.split("/")[5])},{default:(0,n.w5)((()=>[(0,n.Wm)(l,{class:"text-center"},{default:(0,n.w5)((()=>[(0,n._)("strong",null,(0,r.zw)(e.row.name),1)])),_:2},1024),(0,n.Wm)(d),(0,n.Wm)(l,{class:"flex flex-center"},{default:(0,n.w5)((()=>[(0,n._)("img",{src:e.row.image,height:"100"},null,8,i)])),_:2},1024)])),_:2},1032,["onClick"])])])),_:1},8,["loading","rows","pagination","onRequest","columns"])}var s=a(9682),u=a(7468),l=a(7896),d=function(t,e,a,n){function r(t){return t instanceof a?t:new a((function(e){e(t)}))}return new(a||(a=Promise))((function(a,o){function i(t){try{s(n.next(t))}catch(e){o(e)}}function c(t){try{s(n["throw"](t))}catch(e){o(e)}}function s(t){t.done?a(t.value):r(t.value).then(i,c)}s((n=n.apply(t,e||[])).next())}))};const p=(0,n.aZ)({name:"CharacterTable",setup(){let t=(0,s.iH)([]),e=(0,s.iH)({page:1,rowsPerPage:10,rowsNumber:0}),a=(0,s.iH)(!0);const n=[{name:"image",label:"Image",field:"image",align:"left"},{name:"name",label:"Name",field:"name",align:"left"}];function r(n){u.Z.getCharactersByPage(n).then((n=>{t.value=n.characters,e.value.rowsNumber=n.total,a.value=!1,i()}))}function o(t){(0,l.Z)().push({path:"/character/"+t})}function i(){t.value.forEach((t=>d(this,void 0,void 0,(function*(){t.image=yield u.Z.getPicture(t.name)}))))}function c(t){const n=t.pagination.page;a.value=!0,e.value.page=n,r(n)}return r(1),{columns:n,Characters:t,pagination:e,onRequest:c,loading:a,goCharacter:o,getPictures:i}}});var g=a(3299),h=a(151),f=a(5589),m=a(5869),w=a(7518),v=a.n(w);p.render=c;const y=p;v()(p,"components",{QTable:g.Z,QCard:h.Z,QCardSection:f.Z,QSeparator:m.Z})}}]);